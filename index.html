<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>ç©ºéˆé¼“ç·´ç¿’ App</title>
  <style>
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #222 0, #111 40%, #000 100%);
      color: #f5f5f5;
      min-height: 100vh;
    }

    .app-shell {
      display: flex;
      min-height: 100vh;
    }

    /* ---- å·¦å´ Sidebar ---- */
    .sidebar {
      width: 210px;
      background: linear-gradient(180deg, #191919 0%, #101010 100%);
      border-right: 1px solid #333;
      display: flex;
      flex-direction: column;
      padding: 16px 12px;
      gap: 12px;
    }
    .sidebar-title {
      font-size: 16px;
      font-weight: 600;
      margin-bottom: 4px;
    }
    .sidebar-sub {
      font-size: 11px;
      color: #aaa;
      margin-bottom: 12px;
    }
    .nav-btn {
      padding: 8px 10px;
      border-radius: 8px;
      border: 1px solid transparent;
      background: transparent;
      color: #ddd;
      font-size: 14px;
      text-align: left;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: background 0.15s, border-color 0.15s, color 0.15s, transform 0.05s;
    }
    .nav-btn span.icon {
      font-size: 16px;
    }
    .nav-btn:hover {
      background: rgba(255,255,255,0.04);
    }
    .nav-btn.active {
      background: linear-gradient(90deg, #f3d36f 0%, #cc8a33 60%, #7b4b15 100%);
      color: #1a1a1a;
      border-color: #f9e7af;
      transform: translateX(1px);
    }

    .sidebar-footer {
      margin-top: auto;
      font-size: 11px;
      color: #666;
    }

    /* ---- å³å´ä¸»ç•«é¢ ---- */
    .main-area {
      flex: 1;
      padding: 18px 22px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .header {
      margin-bottom: 4px;
    }

    .header h1 {
      margin: 0;
      font-size: 22px;
      letter-spacing: 1px;
    }

    .header-sub {
      font-size: 13px;
      color: #ccc;
    }

    .page {
      display: none;
      flex: 1;
      margin-top: 10px;
    }
    .page.active {
      display: flex;
    }

    /* ---- Page1ï¼šæ¼”å¥å™¨ ---- */
    .page-play {
      flex-direction: column;
      align-items: center;
      gap: 12px;
    }

    .drum-container {
      position: relative;
      width: 420px;
      height: 420px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #444 0, #222 40%, #111 100%);
      box-shadow: 0 0 25px rgba(0,0,0,0.7);
      display: flex;
      align-items: center;
      justify-content: center;
      margin-top: 8px;
    }

    .pad {
      position: absolute;
      width: 70px;
      height: 70px;
      border-radius: 50%;
      border: 2px solid rgba(255,255,255,0.25);
      background: radial-gradient(circle at 30% 30%, #666 0, #333 60%, #222 100%);
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: transform 0.06s ease-out, box-shadow 0.06s ease-out, background 0.1s;
      user-select: none;
    }

    .pad span {
      font-size: 22px;
      font-weight: 600;
      text-shadow: 0 0 4px rgba(0,0,0,0.8);
    }

    .pad.active {
      transform: scale(1.08);
      box-shadow: 0 0 16px rgba(255, 230, 180, 0.9);
      background: radial-gradient(circle at 30% 30%, #f5d37a 0, #c98b35 60%, #7c4b15 100%);
    }

    .center-label {
      position: absolute;
      text-align: center;
      font-size: 13px;
      color: #ddd;
      opacity: 0.9;
      pointer-events: none;
    }

    .help-panel {
      font-size: 13px;
      color: #ddd;
      text-align: center;
      line-height: 1.6;
      max-width: 520px;
    }

    .kbd {
      display: inline-block;
      padding: 2px 6px;
      border-radius: 4px;
      border: 1px solid #666;
      background: #222;
      font-family: monospace;
      font-size: 12px;
      margin: 0 2px;
    }

    /* ---- Page2 / Page3 / Page4 é å‚™ç‰ˆé¢ ---- */
    .placeholder {
      font-size: 14px;
      color: #ccc;
      line-height: 1.7;
      max-width: 520px;
      margin-top: 20px;
    }
    .placeholder-title {
      font-size: 16px;
      margin-bottom: 6px;
      font-weight: 600;
    }
    .placeholder-tag {
      display: inline-block;
      font-size: 11px;
      padding: 2px 6px;
      border-radius: 999px;
      border: 1px solid #666;
      margin-bottom: 8px;
      color: #aaa;
    }

    .footer {
      font-size: 11px;
      color: #666;
      margin-top: auto;
      margin-bottom: 6px;
      text-align: right;
    }

    @media (max-width: 900px) {
      .app-shell {
        flex-direction: column;
      }
      .sidebar {
        width: 100%;
        flex-direction: row;
        align-items: center;
        overflow-x: auto;
      }
      .sidebar-footer {
        display: none;
      }
      .nav-btn {
        white-space: nowrap;
      }
      .main-area {
        padding: 12px;
      }
      .drum-container {
        width: 320px;
        height: 320px;
      }
      .pad {
        width: 58px;
        height: 58px;
      }
    }
  </style>
</head>
<body>
  <div class="app-shell">
    <!-- å·¦å´é¸å–® -->
    <aside class="sidebar">
      <div>
        <div class="sidebar-title">ç©ºéˆé¼“ç·´ç¿’ App</div>
        <div class="sidebar-sub">é¸æ“‡ä½ è¦çš„æ¨¡å¼</div>
      </div>

      <button class="nav-btn active" data-page="page-play">
        <span class="icon">ğŸ¥</span> ç©ºéˆé¼“æ¼”å¥å™¨
      </button>
      <button class="nav-btn" data-page="page-ear">
        <span class="icon">ğŸ‘‚</span> è½å¯«ç·´ç¿’
      </button>
      <button class="nav-btn" data-page="page-melody">
        <span class="icon">ğŸµ</span> è‡ªå‹•æ—‹å¾‹
      </button>
      <button class="nav-btn" data-page="page-chord">
        <span class="icon">ğŸ¹</span> å’Œå¼¦ä¼´å¥å™¨
      </button>

      <div class="sidebar-footer">
        v0.2 æ­£å¼çµæ§‹ç‰ˆ<br />
        éŸ³æª”è·¯å¾‘ï¼šassets/drums/drum_d/
      </div>
    </aside>

    <!-- å³å´ä¸»ç•«é¢ -->
    <main class="main-area">
      <div class="header">
        <h1>ç©ºéˆé¼“ç·´ç¿’ App</h1>
        <div class="header-sub">
          å·¦å´åˆ‡æ›æ¨¡å¼ï¼Œç›®å‰ã€Œç©ºéˆé¼“æ¼”å¥å™¨ã€å·²å®Œæˆï¼ŒéŸ³æª”ä¾†è‡ª D èª¿ï¼šassets/drums/drum_d/
        </div>
      </div>

      <!-- Page 1ï¼šç©ºéˆé¼“æ¼”å¥å™¨ -->
      <section id="page-play" class="page page-play active">
        <div class="drum-container" id="drum">
          <div class="center-label" style="top: 50%; left: 50%; transform: translate(-50%, -50%);">
            D èª¿ç©ºéˆé¼“<br />ç°¡è­œ 1ï½7ï¼ˆå–®éŸ³è‡ªç”±å½ˆå¥ï¼‰
          </div>
        </div>

        <div class="help-panel">
          <div>ğŸ”Š æ¯å€‹æ•¸å­—ä»£è¡¨ç°¡è­œï¼š1=Dã€2=Eã€3=F#ã€4=Gã€5=Aã€6=Bã€7=C#</div>
          <div>ğŸ–± æ»‘é¼ é»é¸åœ“ä¸Šçš„æŒ‰éµå¯ä»¥è½éŸ³éš</div>
          <div>âŒ¨ï¸ éµç›¤æŒ‰ <span class="kbd">1</span>ï½<span class="kbd">7</span> ä¹Ÿå¯ä»¥ç›´æ¥ç™¼éŸ³</div>
          <div>ğŸ“‚ ç›®å‰éŸ³æª”ä½ç½®ï¼š<code>assets/drums/drum_d/drumLong_*.wav</code></div>
        </div>
      </section>

      <!-- Page 2ï¼šè½å¯«ç·´ç¿’ï¼ˆå…ˆæ”¾é å‚™å€ï¼‰ -->
      <section id="page-ear" class="page">
        <div class="placeholder">
          <div class="placeholder-tag">ä¸‹ä¸€æ­¥è¦åšçš„</div>
          <div class="placeholder-title">ğŸ‘‚ è½å¯«ç·´ç¿’ï¼ˆMelody Ear Trainingï¼‰</div>
          <p>
            é€™ä¸€é ä¹‹å¾Œæœƒè®Šæˆï¼š<br />
            ãƒ»æŒ‰ã€Œå‡ºé¡Œã€è‡ªå‹•æ’­æ”¾ 2ï½4 å€‹éŸ³çš„æ—‹å¾‹<br />
            ãƒ»ä½ åœ¨é¼“é¢ä¸ŠæŒ‰å‡ºä½ è½åˆ°çš„ç°¡è­œ<br />
            ãƒ»ç³»çµ±å‘Šè¨´ä½ ã€Œç­”å° / ç­”éŒ¯ã€ï¼Œä¸¦é¡¯ç¤ºæ­£ç¢ºç­”æ¡ˆ<br />
            ãƒ»å¯ä»¥é¸æ“‡é›£åº¦ï¼š2 éŸ³ã€3 éŸ³ã€4 éŸ³ã€åŠ ä¸Šå’Œå¼¦é¡Œç›®ç­‰<br />
          </p>
        </div>
      </section>

      <!-- Page 3ï¼šè‡ªå‹•æ—‹å¾‹ï¼ˆå…ˆæ”¾é å‚™å€ï¼‰ -->
      <section id="page-melody" class="page">
        <div class="placeholder">
          <div class="placeholder-tag">ä¹‹å¾Œè¦åŠ å…¥</div>
          <div class="placeholder-title">ğŸµ è‡ªå‹•æ—‹å¾‹ç”Ÿæˆï¼ˆD èª¿æ‰‹ç¢Ÿé¢¨æ ¼ï¼‰</div>
          <p>
            é€™ä¸€é ä¹‹å¾Œæœƒå¯ä»¥ï¼š<br />
            ãƒ»æŒ‰ä¸€å€‹æŒ‰éˆ•ï¼Œç³»çµ±è‡ªå‹•å½ˆä¸€æ®µ D èª¿ç©ºéˆé¼“æ—‹å¾‹<br />
            ãƒ»å¯ä»¥é¸æ“‡é¢¨æ ¼ï¼šç™‚ç™’ / å†¥æƒ³ / é–‹æœ— / æ¿ƒçƒˆ<br />
            ãƒ»å¯ä»¥è¨­å®šé•·åº¦ï¼š4 éŸ³ã€8 éŸ³ã€16 éŸ³<br />
          </p>
        </div>
      </section>

      <!-- Page 4ï¼šå’Œå¼¦ä¼´å¥å™¨ï¼ˆå…ˆæ”¾é å‚™å€ï¼‰ -->
      <section id="page-chord" class="page">
        <div class="placeholder">
          <div class="placeholder-tag">é€²éšåŠŸèƒ½</div>
          <div class="placeholder-title">ğŸ¹ å’Œå¼¦ä¼´å¥å™¨ï¼ˆChord Progressionï¼‰</div>
          <p>
            æœªä¾†é€™å€‹é é¢æœƒï¼š<br />
            ãƒ»è®“ä½ é¸æ“‡å¸¸è¦‹å’Œå¼¦é€²è¡Œï¼ˆIâ€“Vâ€“viâ€“IV ç­‰ï¼‰<br />
            ãƒ»å¾ªç’°æ’­æ”¾ä½ å‰›å‰›ç”Ÿæˆçš„ç©ºéˆé¼“å’Œå¼¦ wav<br />
            ãƒ»ä½ å¯ä»¥åœ¨ã€Œæ¼”å¥å™¨ã€é‚£é è·Ÿè‘—ä¸€èµ·å½ˆæ—‹å¾‹<br />
          </p>
        </div>
      </section>

      <div class="footer">
        v0.2ï¼šå·²å®Œæˆã€Œåœ“å½¢æ¼”å¥å™¨ + å·¦å´é¸å–® + å°ˆæ¡ˆè·¯å¾‘è¦åŠƒã€ã€‚ä¸‹ä¸€æ­¥è¦å¯¦ä½œã€Œè½å¯«ç·´ç¿’ã€ã€‚
      </div>
    </main>
  </div>

  <script>
    // --- å·¦å´é¸å–®ï¼šåˆ‡æ›é é¢ ---
    const navButtons = document.querySelectorAll(".nav-btn");
    const pages = document.querySelectorAll(".page");

    function showPage(pageId) {
      pages.forEach(p => {
        p.classList.toggle("active", p.id === pageId);
      });
      navButtons.forEach(btn => {
        btn.classList.toggle("active", btn.dataset.page === pageId);
      });
    }

    navButtons.forEach(btn => {
      btn.addEventListener("click", () => {
        const target = btn.dataset.page;
        showPage(target);
      });
    });

    // --- Page1ï¼šæ¼”å¥å™¨ ---

    // è¨­å®š 7 å€‹ç°¡è­œå°æ‡‰çš„éŸ³æª”ï¼ˆå·²æ”¹æˆæ­£å¼è·¯å¾‘ï¼‰
    const audioFiles = {
      "1": "assets/drums/drum_d/drumLong_1.wav",
      "2": "assets/drums/drum_d/drumLong_2.wav",
      "3": "assets/drums/drum_d/drumLong_3.wav",
      "4": "assets/drums/drum_d/drumLong_4.wav",
      "5": "assets/drums/drum_d/drumLong_5.wav",
      "6": "assets/drums/drum_d/drumLong_6.wav",
      "7": "assets/drums/drum_d/drumLong_7.wav",
    };

    // å»ºç«‹ Audio ç‰©ä»¶ï¼Œé å…ˆè¼‰å…¥
    const audioMap = {};
    for (let d = 1; d <= 7; d++) {
      const key = String(d);
      const a = new Audio(audioFiles[key]);
      a.preload = "auto";
      audioMap[key] = a;
    }

    const drum = document.getElementById("drum");

    const pads = [
      { degree: "1", angleDeg: -90 },  // ä¸Šæ–¹
      { degree: "2", angleDeg: -38 },
      { degree: "3", angleDeg: 16 },
      { degree: "4", angleDeg: 70 },
      { degree: "5", angleDeg: 132 },
      { degree: "6", angleDeg: 180 },
      { degree: "7", angleDeg: -152 },
    ];

    const radiusPercent = 38;

    pads.forEach((p) => {
      const pad = document.createElement("div");
      pad.className = "pad";
      pad.dataset.degree = p.degree;
      const span = document.createElement("span");
      span.textContent = p.degree;
      pad.appendChild(span);

      const rad = (p.angleDeg * Math.PI) / 180;
      const cx = 50 + radiusPercent * Math.cos(rad);
      const cy = 50 + radiusPercent * Math.sin(rad);

      pad.style.left = cx + "%";
      pad.style.top = cy + "%";
      pad.style.transform = "translate(-50%, -50%)";

      pad.addEventListener("click", () => {
        playDegree(p.degree, pad);
      });

      drum.appendChild(pad);
    });

    function playDegree(degree, padElement) {
      const key = String(degree);
      const audio = audioMap[key];
      if (!audio) return;

      const clone = audio.cloneNode();
      clone.currentTime = 0;
      clone.play();

      if (padElement) {
        padElement.classList.add("active");
        setTimeout(() => {
          padElement.classList.remove("active");
        }, 120);
      } else {
        const pads = document.querySelectorAll(".pad");
        pads.forEach(p => {
          if (p.dataset.degree === key) {
            p.classList.add("active");
            setTimeout(() => p.classList.remove("active"), 120);
          }
        });
      }
    }

    // éµç›¤äº‹ä»¶ï¼šæŒ‰ 1ï½7 ç™¼éŸ³
    document.addEventListener("keydown", (e) => {
      const key = e.key;
      if (key >= "1" && key <= "7") {
        e.preventDefault();
        playDegree(key, null);
      }
    });
  </script>
</body>
</html>
